{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.12.0/baguetteBox.min.css">

<div class="container py-4">
    <div class="card mb-4">
        <div class="card-header">
            <h3>üõ∞Ô∏è NASA Martian Soil Photo Gallery</h3>
        </div>
        <div class="card-body">
            <div class="gallery gallery-flow" id="nasa-gallery">
                {% for photo in photos %}
                <div class="gallery-item">
                    <div class="position-relative">
                        <a href="{{ url_for('blog_bp.serve_photo', filename=photo.filename) }}" title="{{ photo.caption or photo.filename }}">
                            <img src="{{ url_for('blog_bp.serve_photo', filename=photo.filename) }}" class="rounded shadow-sm gallery-image" alt="{{ photo.caption or photo.filename }}">
                        </a>
                    </div>
                    <div class="mt-2"><small>{{ photo.caption or photo.filename }}</small></div>
                </div>
                {% endfor %}
                {% if photos|length == 0 %}
                <div class="col-12">
                    <p class="text-muted">No photos found.</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.12.0/baguetteBox.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        baguetteBox.run('.gallery', {
            animation: 'slideIn',
            captions: function (element) {
                return element.getAttribute('title') || element.querySelector('img').getAttribute('alt');
            }
        });
    });
</script>
{% endblock %}
